---
name: Release
on:
  release:
    types: [published]
jobs:
  dist:
    name: Publish to PyPI
    runs-on: ubuntu-latest
    steps:
      - name: Check out the repository
        uses: actions/checkout@v3
      - run: |
          pipx run pdm publish --username=__token__ --password=${{ secrets.PYPI_TOKEN }}
      # # - name: Set up Python ${{ matrix.python }}
      # #   uses: actions/setup-python@v4
      # #   with:
      # #     python-version: '3.x'
      # - name: Install PDM
      #   run: |
      #     pipx install --pip-args=--constraint=.github/workflows/constraints.txt pdm
      #     pdm --version
      # - run: |
      #     pdm publish --username=__token__ --password=${{ secrets.PYPI_TOKEN }}
