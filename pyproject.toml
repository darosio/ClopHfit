[tool.poetry]
name = "ClopHfit"
version = "0.3.10"
description = "Cli for fitting macromolecule pH titration or binding assays data e.g. fluorescence spectra."
authors = ["daniele arosio <daniele.arosio@cnr.it>"]
license = "BSD-3-Clause"
readme = "docs/README.md"
homepage = "https://github.com/darosio/ClopHfit"
repository = "https://github.com/darosio/ClopHfit"
documentation = "https://clophfit.readthedocs.io"
keywords = [
  "svd",
  "ClopHensor",
  "data fitting",
  "pH",
  "macromolecule binding",
  ]
classifiers = [
  "Environment :: Console",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Unix Shell",
  "Intended Audience :: Science/Research",
  "Topic :: Scientific/Engineering",
  "Development Status :: 3 - Alpha"
  ]
include = ["LICENSE.txt"]

[tool.poetry.dependencies]
python = ">=3.8, <3.11"
rpy2 = ">=3.4.5"
seaborn = ">=0.11.2"
lmfit = ">=1.0.3"
numpy = ">=1.17"
scipy = ">=1.7.1"
pandas = ">=1.3.3"
emcee = ">=3.1.1"
corner = ">=2.2.1"
tqdm = ">=4.62.3"
sympy = ">=1.9"
openpyxl = ">=3.0.9"
click = ">=8.1.3"
xlrd = ">=2.0.1"

[tool.poetry.scripts]
"clop" = "clophfit.__main__:clop"

[tool.poetry.group.dev.dependencies]
jupyter = ">=1.0.0"
Sphinx = ">=5.0"
ipykernel = ">=6.5.0"
pytest = ">=7.0.1"
flake8-pytest-style = ">=1.5.1"
flake8-comprehensions = ">=3.7.0"
flake8-eradicate = ">=1.2.0"
flake8-bugbear = ">=22.1.11"
flake8-docstrings = ">=1.6.0"
darglint = ">=1.8.1"
flake8 = ">=5.0.4"
coverage = ">=6.1.2"
pytest-cov = ">=3.0.0"
commitizen = ">=2.20.0"
mypy = ">=0.931"
black = ">=22.1.0"
xdoctest = ">=0.15.10"
Pygments = ">=2.10.0"
pydata-sphinx-theme = ">=0.8.0"
sphinx-autodoc-typehints = ">=1.12.0"
nbsphinx = ">=0.8.8"
ipython = ">=8.1.0"
flake8-rst-docstrings = ">=0.2.5"
sphinxcontrib-plantuml = ">=0.23"
flake8-bandit = ">=4.1.1"
isort = ">=5.10.1"
pep8-naming = ">=0.13.2"
pre-commit = ">=2.20.0"
pre-commit-hooks = ">=4.3.0"
pyupgrade = ">=2.37.3"
myst-parser = ">=0.18.0"
safety = ">=2.1.1"
typeguard = ">=2.13.3"
sphinx-click = ">=4.3.0"
pandas-stubs = ">=1.5.0.221003"

[tool.black]
line-length = 88
skip-string-normalization = false
exclude = '''
/(
    \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | _build
  | buck-out
  | build
  | dist
)/
'''

[tool.coverage.paths]
source = ["src", "*/site-packages"]
tests = ["tests", "*/tests"]

[tool.coverage.run]
branch = true
source = ["clophfit", "tests"]
omit = ["*__init__.py"]

[tool.coverage.report]
show_missing = true
# fail_under = 100
exclude_lines = [
    "pragma: no cover",
    "pytest.raises",
    "pytest.warns",
    ]

[tool.isort]
profile = "black"
multi_line_output = 3
force_single_line = true
lines_after_imports = 2
known_first_party="clophfit"

[tool.commitizen]
name = "cz_conventional_commits"
version = "0.3.10"
tag_format = "v$version"
version_files = [
  "pyproject.toml:version",
  "docs/conf.py:release",
  "docs/README.md:Version",
  ]
changelog_incremental = true

[tool.mypy]
strict = true
warn_unreachable = true
pretty = true
show_column_numbers = true
show_error_codes = true
show_error_context = true
plugins = "numpy.typing.mypy_plugin"
exclude = "src/clophfit/old"

[tool.pylsp-mypy]
enabled = true
live_mode = true
dmypy = false
strict = true

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
